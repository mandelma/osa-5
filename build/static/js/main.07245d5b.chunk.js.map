{"version":3,"sources":["services/blogs.js","services/login.js","components/loginForm.js","components/blogiForm.js","components/Notification.js","App.js","index.js"],"names":["token","getAll","a","axios","get","response","data","create","newObject","config","headers","Authorization","post","update","id","put","then","setToken","newToken","removeToken","login","credentials","Login","props","onSubmit","handleLogin","type","value","username","onChange","usernameHandler","salasana","passwordHandler","Blogi","handleBlogi","userName","onClick","logOut","title","titleHandler","author","authorHandler","url","urlHandler","likes","likesHandler","Notification","msg","msgType","className","App","useState","message","setMessage","errMessage","setErrMessage","user","setUser","setUsername","setSalasana","blogs","setBlogs","setTitle","setauthor","setUrl","setLikes","useEffect","blogService","initialNotes","loggedUserJSON","window","localStorage","getItem","JSON","parse","event","preventDefault","loginService","password","setItem","stringify","setTimeout","target","name","removeItem","blogObject","concat","map","blog","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.07245d5b.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst removeToken = () => {\r\n  token = null\r\n}\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseUrl)\r\n  return response.data\r\n}\r\n\r\nconst create = async newObject => {\r\n  const config = {\r\n    headers: {Authorization: token}\r\n  }\r\n  const response = await axios.post(baseUrl, newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    setToken,\r\n    removeToken\r\n\r\n}\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n    const response = await axios.post(baseUrl, credentials)\r\n    return response.data\r\n}\r\n\r\nexport default {login}","import React from 'react'\r\n\r\nconst Login = (props) => {\r\n    return(\r\n        <div>\r\n            <form onSubmit = {props.handleLogin}>\r\n                <h2>Log in to application:</h2>\r\n                <label>Username:<br/>\r\n                    <input type = \"text\" \r\n                        value = {props.username} \r\n                        onChange = {props.usernameHandler}>\r\n                    </input><br/>\r\n                </label>\r\n                \r\n                <label>Password:<br/>\r\n                    <input type = \"password\"\r\n                        value = {props.salasana} \r\n                        onChange = {props.passwordHandler}>\r\n                    </input><br/>\r\n                </label><br></br>\r\n\r\n                <button type = \"submit\">Kirjaudu</button>\r\n            </form><br/>        \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\n\r\nconst Blogi = (props) => {\r\n    return(\r\n        <div>\r\n            <form onSubmit = {props.handleBlogi}>\r\n                 <h1>Blogs</h1>\r\n                 <p>\r\n                 {props.userName} logged in&nbsp;&nbsp;\r\n                 <button onClick = {props.logOut}>Log out</button>\r\n                 </p>\r\n                 <h2>Create new blog</h2>\r\n                 <label>Title:<br/>\r\n                     <input type = \"text\"\r\n                        value = {props.title}\r\n                        onChange = {props.titleHandler}>\r\n                     </input><br/>\r\n                 </label>\r\n                 <label>Author:<br/>\r\n                     <input type = \"text\"\r\n                        value = {props.author}\r\n                        onChange = {props.authorHandler}>\r\n                     </input>\r\n                 </label><br/>\r\n                 <label>Url:<br/>\r\n                     <input type = \"text\"\r\n                        value = {props.url}\r\n                        onChange = {props.urlHandler}>\r\n                     </input>\r\n                 </label><br/>\r\n                 <label>Likes:<br/>\r\n                    <input type = \"text\"\r\n                        value = {props.likes}\r\n                        onChange = {props.likesHandler}>                        \r\n                    </input>\r\n                 </label><br/><br/>\r\n                 <button type = \"submit\">Create blog</button>\r\n             </form>\r\n             \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Blogi","import React from 'react'\r\n\r\nconst Notification = ({msg, msgType}) => {\r\n    if(msg === null){\r\n      return null\r\n    }\r\n    return <div className = {msgType}>\r\n      {msg}\r\n    </div>\r\n  }\r\n\r\nexport default Notification","import React, {useState, useEffect} from 'react';\nimport blogService from './services/blogs'\nimport loginService from './services/login'\nimport './index.css'\nimport Login from './components/loginForm'\nimport Blogi from './components/blogiForm'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [message, setMessage] = useState(null)\n  const [errMessage, setErrMessage] = useState(null)\n\n  const [user, setUser] = useState(null)\n  const [username, setUsername] = useState(\"\")\n  const [salasana, setSalasana] = useState(\"\")\n\n  const [blogs, setBlogs] = useState([])\n  const [title, setTitle] = useState('')\n  const [author, setauthor] = useState('')\n  const [url, setUrl] = useState('')\n  const [likes, setLikes] = useState('')\n\n  useEffect(() => {\n    blogService\n      .getAll()\n        .then(initialNotes => {\n          setBlogs(initialNotes)\n        })\n  }, [])\n\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if(loggedUserJSON){\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n\n  const lueBlogi = () => blogs.map(blog => \n    <p>\n      Title: {blog.title}<br/>\n      Author: {blog.author}<br/>\n      Url: {blog.url}<br/>\n      Likes: {blog.likes}\n    </p>\n    )\n  \n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try{\n      const user = await loginService.login({\n        username: username,\n        password: salasana\n      })\n\n      window.localStorage.setItem(\n        'loggedBlogappUser', JSON.stringify(user)\n      )\n      blogService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setSalasana('')\n      \n    }catch(exception){\n      setUsername('')\n      setSalasana('')\n      setErrMessage('Wrong username or password!')\n      setTimeout(() => {\n        setErrMessage(null)\n      }, 5000)\n    } \n  }\n\n const addBlog = (event) => {\n    event.preventDefault()\n    const blogObject = {\n      title: title,\n      author: author,\n      url: url,\n      likes: likes\n    }\n\n    blogService\n      .create(blogObject)\n      .then(response => {\n        setBlogs(blogs.concat(response))\n        \n        setTitle('')\n        setauthor('')\n        setUrl('')\n        setLikes('')\n\n        setMessage(`A new blog ${response.title} by ${response.author} added!`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })  \n  }\n\n  const logOut = () => {\n    window.localStorage.removeItem('loggedBlogappUser')\n    blogService.removeToken()\n    setUser(null)\n  }\n  \n  const usernameHandler = (event) => {\n    setUsername(event.target.value)\n  }\n\n  const passwordHandler = (event) => {\n    setSalasana(event.target.value)\n  }\n\n  const titleHandler = (event) => {\n    setTitle(event.target.value)\n  }\n\n  const authorHandler = (event) => {\n    setauthor(event.target.value)\n  }\n\n  const urlHandler = (event) => {\n    setUrl(event.target.value)\n  }\n\n  const likesHandler = (event) => {\n    setLikes(event.target.value)\n  }\n\n\n  return (\n    <div>\n      <Notification\n        msg = {message !== null ? message : errMessage}\n        msgType = {message !== null ? 'message' : 'error'}\n      />\n      {\n        user === null \n        ?\n        <Login\n          handleLogin = {handleLogin} \n          username = {username}\n          usernameHandler = {usernameHandler}\n          salasana = {salasana}\n          passwordHandler = {passwordHandler}\n          username = {username}\n          salasana = {salasana}\n        />\n        :\n        <div>\n          <Blogi\n            userName = {user.name}\n            logOut = {logOut}\n            handleBlogi = {addBlog}\n            title = {title}\n            author = {author}\n            url = {url}\n            likes = {likes}\n            titleHandler = {titleHandler}\n            authorHandler = {authorHandler}\n            urlHandler = {urlHandler}\n            likesHandler = {likesHandler}\n          />\n          {lueBlogi()}\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}